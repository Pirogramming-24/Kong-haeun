{% extends "base.html" %}
{% block content %}

<h1>전체 리뷰</h1>

<div style="margin-bottom:10px;">
  <a href="?sort=latest">최신순</a> |
  <a href="?sort=score">평점순</a> |
  <a href="?sort=title">영화 제목순</a>
</div>

<hr>

{% for review in reviews %}
  <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
    <h4>
      <a href="{% url 'reviews:movie_detail' review.movie.id %}">
        {{ review.movie.title }}
      </a>
    </h4>

    <p>{{ review.score }}</p>
    <p>{{ review.content }}</p>

    <a href="{% url 'reviews:update' review.id %}">수정</a>
    |
    <form action="{% url 'reviews:delete' review.id %}" method="post" style="display:inline;">
      {% csrf_token %}
      <button type="submit">삭제</button>
    </form>
  </div>
{% empty %}
  <p>아직 작성된 리뷰가 없습니다.</p>
{% endfor %}

{% endblock %}
