{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="feed">
    {% for post in posts %}
    <div class="post-card">
        <!-- 작성자 이미지, 이름 -->
        <div class="post-header">
            <img class="post-profile-image"
                src="{% if post.author.profile.image %}{{ post.author.profile.image.url }}{% else %}{% static 'images/default_profile.png' %}{% endif %}"
                alt="profile"
            >
            <span class="post-author">
                {{ post.author.username }}
            </span>
        </div>

        <!-- 클릭 시 detail 페이지 이동 -->
        <a href="{% url 'posts:detail' post.pk %}">    
            <!-- 이미지 -->
            {% if post.image %}
            <div class="post-image">
                <img src="{{ post.image.url }}" alt="post image">
            </div>
            {% endif %}
            
            <!-- 내용 -->
            {% if post.content %}
            <div class="post-content">
                {{ post.content }}
            </div>
            {% endif %}
        </a>

        <!-- 날짜 -->
        <div class="post-date">
            {{ post.created_at|date:"Y.m.d H:i" }}
        </div>
    </div>

    {% empty %}
        <p>게시글이 없습니다.</p>
    {% endfor %}

</div>
{% endblock %}